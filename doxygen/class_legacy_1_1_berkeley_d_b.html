<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nexus: Legacy::BerkeleyDB Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Neuxs_github.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nexus
   </div>
   <div id="projectbrief">The TAO Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_legacy_1_1_berkeley_d_b.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_legacy_1_1_berkeley_d_b-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Legacy::BerkeleyDB Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="db_8h_source.html">db.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Legacy::BerkeleyDB:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_legacy_1_1_berkeley_d_b.png" usemap="#Legacy::BerkeleyDB_map" alt=""/>
  <map id="Legacy::BerkeleyDB_map" name="Legacy::BerkeleyDB_map">
<area href="class_legacy_1_1_wallet_d_b.html" alt="Legacy::WalletDB" shape="rect" coords="0,56,127,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a379d02a1a7675822ce43d4ac57bb46a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a379d02a1a7675822ce43d4ac57bb46a8">BerkeleyDB</a> (const <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> &amp;)=delete</td></tr>
<tr class="separator:a379d02a1a7675822ce43d4ac57bb46a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13fb59e3619d2d7a8203d0c623225360"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a13fb59e3619d2d7a8203d0c623225360">operator=</a> (const <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> &amp;)=delete</td></tr>
<tr class="separator:a13fb59e3619d2d7a8203d0c623225360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccb25936d1a0f68cdcbd8dc1e357f73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a9ccb25936d1a0f68cdcbd8dc1e357f73">TxnBegin</a> ()</td></tr>
<tr class="separator:a9ccb25936d1a0f68cdcbd8dc1e357f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6693b4d4243442a717da1de6006c8988"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a6693b4d4243442a717da1de6006c8988">TxnCommit</a> ()</td></tr>
<tr class="separator:a6693b4d4243442a717da1de6006c8988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab002a5460905c4c9bb8fff42344d4e88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ab002a5460905c4c9bb8fff42344d4e88">TxnAbort</a> ()</td></tr>
<tr class="separator:ab002a5460905c4c9bb8fff42344d4e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4595c594939f3c76482122525f12db0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ad4595c594939f3c76482122525f12db0">ReadVersion</a> (uint32_t &amp;nVersion)</td></tr>
<tr class="separator:ad4595c594939f3c76482122525f12db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04f7ba03f591a018a63c578e62397da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ab04f7ba03f591a018a63c578e62397da">WriteVersion</a> (const uint32_t nVersion)</td></tr>
<tr class="separator:ab04f7ba03f591a018a63c578e62397da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cf35f3896279249934c190d21d369c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a67cf35f3896279249934c190d21d369c">Close</a> ()</td></tr>
<tr class="separator:a67cf35f3896279249934c190d21d369c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7ada6a0a883402946c58aa09c79fb65d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a7ada6a0a883402946c58aa09c79fb65d">CloseDb</a> (const std::string &amp;<a class="el" href="class_legacy_1_1_berkeley_d_b.html#a1bd610a13a6ae7aa5b85d1a40f8e777d">strFile</a>)</td></tr>
<tr class="separator:a7ada6a0a883402946c58aa09c79fb65d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cda0876a1b14796833b1076c950cb2f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a8cda0876a1b14796833b1076c950cb2f">DBFlush</a> (bool fShutdown)</td></tr>
<tr class="separator:a8cda0876a1b14796833b1076c950cb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bfaaf0d2cab429255cb8a6d82eaacc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ac8bfaaf0d2cab429255cb8a6d82eaacc">DBRewrite</a> (const std::string &amp;<a class="el" href="class_legacy_1_1_berkeley_d_b.html#a1bd610a13a6ae7aa5b85d1a40f8e777d">strFile</a>, const char *pszSkip=nullptr)</td></tr>
<tr class="separator:ac8bfaaf0d2cab429255cb8a6d82eaacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ce820026d8c7b59f8874abe72aca64"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a33ce820026d8c7b59f8874abe72aca64">EnvShutdown</a> ()</td></tr>
<tr class="separator:a33ce820026d8c7b59f8874abe72aca64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a27dafdf8a23022f0d1e2366a78ccf45d"><td class="memItemLeft" align="right" valign="top">static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a27dafdf8a23022f0d1e2366a78ccf45d">cs_db</a></td></tr>
<tr class="separator:a27dafdf8a23022f0d1e2366a78ccf45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897503318254e2945815f226659db48f"><td class="memItemLeft" align="right" valign="top">static DbEnv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a897503318254e2945815f226659db48f">dbenv</a></td></tr>
<tr class="separator:a897503318254e2945815f226659db48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67df8ecb5e03b24d14d9abd1acf89d73"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a67df8ecb5e03b24d14d9abd1acf89d73">fDbEnvInit</a> = false</td></tr>
<tr class="separator:a67df8ecb5e03b24d14d9abd1acf89d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ae32592f85c95a2bc9ee3b6efb2f08"><td class="memItemLeft" align="right" valign="top">static std::map&lt; std::string, uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a06ae32592f85c95a2bc9ee3b6efb2f08">mapFileUseCount</a></td></tr>
<tr class="separator:a06ae32592f85c95a2bc9ee3b6efb2f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8f7c2feb5ae8412a1be7b246ff74a4"><td class="memItemLeft" align="right" valign="top">static std::map&lt; std::string, Db * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a5e8f7c2feb5ae8412a1be7b246ff74a4">mapDb</a></td></tr>
<tr class="separator:a5e8f7c2feb5ae8412a1be7b246ff74a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a03cea4cb7713348b5c8e5113d2b68f41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a03cea4cb7713348b5c8e5113d2b68f41">BerkeleyDB</a> (const char *pszFileIn, const char *pszMode=&quot;r+&quot;)</td></tr>
<tr class="separator:a03cea4cb7713348b5c8e5113d2b68f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b12dd6a1c7a898bb7cd6b26a39e7ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ad5b12dd6a1c7a898bb7cd6b26a39e7ab">BerkeleyDB</a> (const std::string &amp;strFileIn, const char *pszMode=&quot;r+&quot;)</td></tr>
<tr class="separator:ad5b12dd6a1c7a898bb7cd6b26a39e7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1aacc1792d96c1c7ece0b88e0115e80"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ad1aacc1792d96c1c7ece0b88e0115e80">~BerkeleyDB</a> ()</td></tr>
<tr class="separator:ad1aacc1792d96c1c7ece0b88e0115e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c7cccb4e73b1ea319f67a57ce8c37e"><td class="memTemplParams" colspan="2">template&lt;typename K , typename T &gt; </td></tr>
<tr class="memitem:a62c7cccb4e73b1ea319f67a57ce8c37e"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a62c7cccb4e73b1ea319f67a57ce8c37e">Read</a> (const K &amp;key, T &amp;value)</td></tr>
<tr class="separator:a62c7cccb4e73b1ea319f67a57ce8c37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd6d78112de931387be759b488a5ee4"><td class="memTemplParams" colspan="2">template&lt;typename K , typename T &gt; </td></tr>
<tr class="memitem:aebd6d78112de931387be759b488a5ee4"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#aebd6d78112de931387be759b488a5ee4">Write</a> (const K &amp;key, const T &amp;value, bool fOverwrite=true)</td></tr>
<tr class="separator:aebd6d78112de931387be759b488a5ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574bf24a244612efa47e11c6ab3b637c"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a574bf24a244612efa47e11c6ab3b637c"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a574bf24a244612efa47e11c6ab3b637c">Erase</a> (const K &amp;key)</td></tr>
<tr class="separator:a574bf24a244612efa47e11c6ab3b637c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33a2e8e788b8c557f88a7bc70655c9f"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:af33a2e8e788b8c557f88a7bc70655c9f"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#af33a2e8e788b8c557f88a7bc70655c9f">Exists</a> (const K &amp;key)</td></tr>
<tr class="separator:af33a2e8e788b8c557f88a7bc70655c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc4a0f7ba6349aa2b881b3eeefd21782"><td class="memItemLeft" align="right" valign="top">Dbc *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#adc4a0f7ba6349aa2b881b3eeefd21782">GetCursor</a> ()</td></tr>
<tr class="separator:adc4a0f7ba6349aa2b881b3eeefd21782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b3e042fe13822756881517856eb2df2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a2b3e042fe13822756881517856eb2df2">ReadAtCursor</a> (Dbc *pcursor, <a class="el" href="class_data_stream.html">DataStream</a> &amp;ssKey, <a class="el" href="class_data_stream.html">DataStream</a> &amp;ssValue, uint32_t fFlags=DB_NEXT)</td></tr>
<tr class="separator:a2b3e042fe13822756881517856eb2df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dcf6737501a680287c5b3ffd1262e59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a2dcf6737501a680287c5b3ffd1262e59">CloseCursor</a> (Dbc *pcursor)</td></tr>
<tr class="separator:a2dcf6737501a680287c5b3ffd1262e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f03fe54ddb9e93f5f2bd7740b70b467"><td class="memItemLeft" align="right" valign="top">DbTxn *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a7f03fe54ddb9e93f5f2bd7740b70b467">GetTxn</a> ()</td></tr>
<tr class="separator:a7f03fe54ddb9e93f5f2bd7740b70b467"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad5d089b22f4aa6ccfe6a074bd76060f0"><td class="memItemLeft" align="right" valign="top">Db *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#ad5d089b22f4aa6ccfe6a074bd76060f0">pdb</a></td></tr>
<tr class="separator:ad5d089b22f4aa6ccfe6a074bd76060f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd610a13a6ae7aa5b85d1a40f8e777d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a1bd610a13a6ae7aa5b85d1a40f8e777d">strFile</a></td></tr>
<tr class="separator:a1bd610a13a6ae7aa5b85d1a40f8e777d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acd2afb6b6d84fbfd5b3ebda52fc45c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; DbTxn * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a2acd2afb6b6d84fbfd5b3ebda52fc45c">vTxn</a></td></tr>
<tr class="separator:a2acd2afb6b6d84fbfd5b3ebda52fc45c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2bffc42bafac7accec9a119ddaab3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a4e2bffc42bafac7accec9a119ddaab3b">fReadOnly</a></td></tr>
<tr class="separator:a4e2bffc42bafac7accec9a119ddaab3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides support for accessing Berkeley databases </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a03cea4cb7713348b5c8e5113d2b68f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03cea4cb7713348b5c8e5113d2b68f41">&#9670;&nbsp;</a></span>BerkeleyDB() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::BerkeleyDB </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pszFileIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pszMode</em> = <code>&quot;r+&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Initializes database access for a given file name and access mode.</p>
<p>Access modes: r=read, w=write, +=append, c=create</p>
<p>For modes, read is superfluous, as can always read any open database. Write and append modes are the same, as append only is not enforced. Essentially, a database can be opened in read-only mode or read/write mode using the mode settings.</p>
<p>The c (create) mode indicates whether or not to create the database file if not present. If initialize without using the c mode, and the database file does not exist, object instantiation will fail with a runtime error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszFile</td><td>The database file name</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszMode</td><td>A string containing one or more access mode characters defaults to r+ (read and append). An empty or null string is equivalent to read only. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad5b12dd6a1c7a898bb7cd6b26a39e7ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b12dd6a1c7a898bb7cd6b26a39e7ab">&#9670;&nbsp;</a></span>BerkeleyDB() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::BerkeleyDB </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strFileIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pszMode</em> = <code>&quot;r+&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Alternative version that takes filename as std::string</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strFile</td><td>The database file name</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszMode</td><td>A string containing one or more access mode characters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1aacc1792d96c1c7ece0b88e0115e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1aacc1792d96c1c7ece0b88e0115e80">&#9670;&nbsp;</a></span>~BerkeleyDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::~BerkeleyDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor</p>
<p>Calls <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a67cf35f3896279249934c190d21d369c">Close()</a> on the database </p>

</div>
</div>
<a id="a379d02a1a7675822ce43d4ac57bb46a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a379d02a1a7675822ce43d4ac57bb46a8">&#9670;&nbsp;</a></span>BerkeleyDB() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::BerkeleyDB </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy constructor deleted. No copy allowed </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a67cf35f3896279249934c190d21d369c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67cf35f3896279249934c190d21d369c">&#9670;&nbsp;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Legacy::BerkeleyDB::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close</p>
<p>Close this instance for database access. Aborts any open transactions, flushes memory to log file, sets pdb to nullptr, and sets strFile to an empty string. At this point, the <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> instance can be safely destroyed.</p>
<p>This decrements <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a06ae32592f85c95a2bc9ee3b6efb2f08">BerkeleyDB::mapFileUseCount</a> but does not close the database handle, which remains stored in <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a5e8f7c2feb5ae8412a1be7b246ff74a4">BerkeleyDB::mapDb</a>. The handle will remain open until a call to <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a7ada6a0a883402946c58aa09c79fb65d">CloseDb()</a> during <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a8cda0876a1b14796833b1076c950cb2f">DBFlush()</a> or shutdown. Until then, any new instances created for the same data file will re-use the open handle. </p>

</div>
</div>
<a id="a2dcf6737501a680287c5b3ffd1262e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dcf6737501a680287c5b3ffd1262e59">&#9670;&nbsp;</a></span>CloseCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Legacy::BerkeleyDB::CloseCursor </td>
          <td>(</td>
          <td class="paramtype">Dbc *&#160;</td>
          <td class="paramname"><em>pcursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>CloseCursor</p>
<p>Closes and discards a cursor. After calling this method, the cursor is no longer valid for use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pcursor</td><td>The cursor to close </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ada6a0a883402946c58aa09c79fb65d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ada6a0a883402946c58aa09c79fb65d">&#9670;&nbsp;</a></span>CloseDb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::CloseDb </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Closes down the open database handle for a database and removes it from <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a5e8f7c2feb5ae8412a1be7b246ff74a4">BerkeleyDB::mapDb</a></p>
<p>Should only be called when <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a06ae32592f85c95a2bc9ee3b6efb2f08">BerkeleyDB::mapFileUseCount</a> is 0 (after <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a67cf35f3896279249934c190d21d369c">Close()</a> called on any in-use instances) or the pdb copy in active instances will become invalid and results of continued use are undefined.</p>
<p>This method does not obtain a lock on <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a27dafdf8a23022f0d1e2366a78ccf45d">BerkeleyDB::cs_db</a>, thus any methods calling it must first obtain that lock. This supports usage within methods that also require obtaining a <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a27dafdf8a23022f0d1e2366a78ccf45d">BerkeleyDB::cs_db</a> lock for other purposes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strFile</td><td>Database to close </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8cda0876a1b14796833b1076c950cb2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cda0876a1b14796833b1076c950cb2f">&#9670;&nbsp;</a></span>DBFlush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::DBFlush </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fShutdown</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flushes log file to data file for any database handles with <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a06ae32592f85c95a2bc9ee3b6efb2f08">BerkeleyDB::mapFileUseCount</a> = 0 then calls CloseDb on that database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fShutdown</td><td>Set true if shutdown in progress, calls <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a33ce820026d8c7b59f8874abe72aca64">EnvShutdown()</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8bfaaf0d2cab429255cb8a6d82eaacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8bfaaf0d2cab429255cb8a6d82eaacc">&#9670;&nbsp;</a></span>DBRewrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::DBRewrite </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pszSkip</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rewrites a database file by copying all contents to an new file, then replacing the old file with the new one. Does nothing if <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a06ae32592f85c95a2bc9ee3b6efb2f08">BerkeleyDB::mapFileUseCount</a> indicates the source file is in use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strFile</td><td>The database file to rewrite</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszSkip</td><td>An optional key type. Any database entries with this key are not copied to the rewritten file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if rewrite was successful </dd></dl>

</div>
</div>
<a id="a33ce820026d8c7b59f8874abe72aca64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ce820026d8c7b59f8874abe72aca64">&#9670;&nbsp;</a></span>EnvShutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::BerkeleyDB::EnvShutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called to shut down the Berkeley database environment in <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a>:dbenv</p>
<p>Should be called on system shutdown. If called at any other time, invalidates any active database handles resulting in undefined behavior if they are used. Assuming there are no active database handles, shutting down the environment when there is no system shutdown requires it to be re-initialized if a new <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> instance is later constructed. This is costly and should be avoided. </p>

</div>
</div>
<a id="a574bf24a244612efa47e11c6ab3b637c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574bf24a244612efa47e11c6ab3b637c">&#9670;&nbsp;</a></span>Erase()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::Erase </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Erase</p>
<p>Remove a key-value pair from the database</p>
<p>Cannot erase from a database opened as read-only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key value of the database entry to erase</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if value was successfully removed </dd></dl>

</div>
</div>
<a id="af33a2e8e788b8c557f88a7bc70655c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af33a2e8e788b8c557f88a7bc70655c9f">&#9670;&nbsp;</a></span>Exists()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::Exists </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Exists</p>
<p>Tests whether an entry exists in the database for a given key</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key value to test</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the database contains an entry for the given key </dd></dl>

</div>
</div>
<a id="adc4a0f7ba6349aa2b881b3eeefd21782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4a0f7ba6349aa2b881b3eeefd21782">&#9670;&nbsp;</a></span>GetCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Dbc * Legacy::BerkeleyDB::GetCursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>GetCursor</p>
<p>Open a cursor at the beginning of the database.</p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a Berkeley Dbc cursor, nullptr if unable to open cursor </dd></dl>

</div>
</div>
<a id="a7f03fe54ddb9e93f5f2bd7740b70b467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f03fe54ddb9e93f5f2bd7740b70b467">&#9670;&nbsp;</a></span>GetTxn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DbTxn * Legacy::BerkeleyDB::GetTxn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>GetTxn</p>
<p>Retrieves the most recently started database transaction.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to most recent database transaction, or nullptr if none started </dd></dl>

</div>
</div>
<a id="a13fb59e3619d2d7a8203d0c623225360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fb59e3619d2d7a8203d0c623225360">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a>&amp; Legacy::BerkeleyDB::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy assignment operator deleted. No assignment allowed </p>

</div>
</div>
<a id="a62c7cccb4e73b1ea319f67a57ce8c37e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62c7cccb4e73b1ea319f67a57ce8c37e">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::Read </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read</p>
<p>Read a value from a database key-value pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key entry of the value to read</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>The resulting value read from the database Can read object data that is serialized into database and supports &gt;&gt; operator for extraction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the key exists and the value was successfully read </dd></dl>

</div>
</div>
<a id="a2b3e042fe13822756881517856eb2df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b3e042fe13822756881517856eb2df2">&#9670;&nbsp;</a></span>ReadAtCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t Legacy::BerkeleyDB::ReadAtCursor </td>
          <td>(</td>
          <td class="paramtype">Dbc *&#160;</td>
          <td class="paramname"><em>pcursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data_stream.html">DataStream</a> &amp;&#160;</td>
          <td class="paramname"><em>ssKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data_stream.html">DataStream</a> &amp;&#160;</td>
          <td class="paramname"><em>ssValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>fFlags</em> = <code>DB_NEXT</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ReadAtCursor</p>
<p>Read a database key-value pair from the current cursor location.</p>
<p>The fFlags setting impacts how ssKey and ssValue are used as input. <a class="el" href="class_legacy_1_1_berkeley_d_b.html#a2b3e042fe13822756881517856eb2df2">ReadAtCursor()</a> supports: DB_SET - Move cursor to key specified by ssKey. Key must match exactly. DB_SET_RANGE - Move cursor to key specified by ssKey, or first key &gt;= if no exact match DB_GET_BOTH - Move cursor to key/value specified by ssKey and ssValue. Both must match exactly. DB_GET_BOTH_RANGE - Move cursor to key/value specified by ssKey and ssValue. Key must match exactly, first value &gt;= if no exact match.</p>
<p><a class="el" href="class_legacy_1_1_berkeley_d_b.html#a2b3e042fe13822756881517856eb2df2">ReadAtCursor()</a> also supports flags that do not require explicit ssKey/ssValue settings, including DB_FIRST - Move to and read the first entry in the database. DB_NEXT - Move to and read the next entry in the database. Same as DB_FIRST when cursor initially created. Returns DB_NOTFOUND if cursor already on DB_LAST. DB_CURRENT - Read the current entry in the database. Allows same entry to be read multiple times without moving cursor. DB_LAST - Move to and read the last entry in the database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pcursor</td><td>The cursor used to read from the database</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ssKey</td><td>A stream containing the serialized key read. May also contain input to cursor operation for certain flag settings</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ssValue</td><td>A stream containing the serialized value read. May also contain input to cursor operation for certain flag settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fFlags</td><td>Berkeley database flags for getting data from cursor, defaults to DB_NEXT (read next record)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if value was successfully read </dd></dl>

</div>
</div>
<a id="ad4595c594939f3c76482122525f12db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4595c594939f3c76482122525f12db0">&#9670;&nbsp;</a></span>ReadVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::ReadVersion </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>nVersion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ReadVersion</p>
<p>Read the current value for key "version" from the database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">nVersion</td><td>The value read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a version entry exists in the database and its value was successfully read </dd></dl>

</div>
</div>
<a id="ab002a5460905c4c9bb8fff42344d4e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab002a5460905c4c9bb8fff42344d4e88">&#9670;&nbsp;</a></span>TxnAbort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::TxnAbort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TxnAbort</p>
<p>Abort the transaction most recently added to vTxn, reversing any updates performed.</p>
<dl class="section return"><dt>Returns</dt><dd>true if transaction was successfully aborted </dd></dl>

</div>
</div>
<a id="a9ccb25936d1a0f68cdcbd8dc1e357f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ccb25936d1a0f68cdcbd8dc1e357f73">&#9670;&nbsp;</a></span>TxnBegin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::TxnBegin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TxnBegin</p>
<p>Start a new database transaction and add it to vTxn</p>
<dl class="section return"><dt>Returns</dt><dd>true if transaction successfully started </dd></dl>

</div>
</div>
<a id="a6693b4d4243442a717da1de6006c8988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6693b4d4243442a717da1de6006c8988">&#9670;&nbsp;</a></span>TxnCommit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::TxnCommit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TxnCommit</p>
<p>Commit the transaction most recently added to vTxn</p>
<dl class="section return"><dt>Returns</dt><dd>true if transaction successfully committed </dd></dl>

</div>
</div>
<a id="aebd6d78112de931387be759b488a5ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd6d78112de931387be759b488a5ee4">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::Write </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fOverwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write</p>
<p>Write a key-value pair to the database.</p>
<p>Cannot write to database opened as read-only. If the provided key does not exist in the database, the key-value will be appended. If it does exist, the corresponding value will be overwritten if fOverwrite is set. Otherwise, this method will return false (write not successful)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key entry to write</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The value to write for the provided key value. Can write any value/object that is serializable</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fOverwrite</td><td>If true (default), overwrites value for given key if it already exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if value was successfully written </dd></dl>

</div>
</div>
<a id="ab04f7ba03f591a018a63c578e62397da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04f7ba03f591a018a63c578e62397da">&#9670;&nbsp;</a></span>WriteVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::WriteVersion </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>nVersion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>WriteVersion</p>
<p>Writes a number into the database using the key "version". Overwrites any previous version entry.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nVersion</td><td>The version number to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the value was successfully written </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a27dafdf8a23022f0d1e2366a78ccf45d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27dafdf8a23022f0d1e2366a78ccf45d">&#9670;&nbsp;</a></span>cs_db</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex Legacy::BerkeleyDB::cs_db</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mutex for thread concurrency.</p>
<p>Used to manage concurrency across <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> databases. </p>

</div>
</div>
<a id="a897503318254e2945815f226659db48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a897503318254e2945815f226659db48f">&#9670;&nbsp;</a></span>dbenv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DbEnv Legacy::BerkeleyDB::dbenv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The Berkeley database environment. Initialized on first use of any Berkeley DB access. </p>

</div>
</div>
<a id="a67df8ecb5e03b24d14d9abd1acf89d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67df8ecb5e03b24d14d9abd1acf89d73">&#9670;&nbsp;</a></span>fDbEnvInit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::fDbEnvInit = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag indicating whether or not the database environment has been initialized. </p>

</div>
</div>
<a id="a4e2bffc42bafac7accec9a119ddaab3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2bffc42bafac7accec9a119ddaab3b">&#9670;&nbsp;</a></span>fReadOnly</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::BerkeleyDB::fReadOnly</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates whether or not this database is in read-only mode </p>

</div>
</div>
<a id="a5e8f7c2feb5ae8412a1be7b246ff74a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8f7c2feb5ae8412a1be7b246ff74a4">&#9670;&nbsp;</a></span>mapDb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, Db * &gt; Legacy::BerkeleyDB::mapDb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stores pdb copy for each open database handle, keyed by file name. </p>

</div>
</div>
<a id="a06ae32592f85c95a2bc9ee3b6efb2f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ae32592f85c95a2bc9ee3b6efb2f08">&#9670;&nbsp;</a></span>mapFileUseCount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, uint32_t &gt; Legacy::BerkeleyDB::mapFileUseCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tracks databases usage</p>
<p>string = file name uint32_t = usage count, value &gt; 0 indicates database in use</p>
<p>A usage count &gt;1 indicates that there are multiple <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> instances using the same pdb pointer from mapDb </p>

</div>
</div>
<a id="ad5d089b22f4aa6ccfe6a074bd76060f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d089b22f4aa6ccfe6a074bd76060f0">&#9670;&nbsp;</a></span>pdb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Db* Legacy::BerkeleyDB::pdb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pointer to handle for a Berkeley database, for opening/accessing database underlying this <a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a> instance </p>

</div>
</div>
<a id="a1bd610a13a6ae7aa5b85d1a40f8e777d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd610a13a6ae7aa5b85d1a40f8e777d">&#9670;&nbsp;</a></span>strFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Legacy::BerkeleyDB::strFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The file name of the current database </p>

</div>
</div>
<a id="a2acd2afb6b6d84fbfd5b3ebda52fc45c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2acd2afb6b6d84fbfd5b3ebda52fc45c">&#9670;&nbsp;</a></span>vTxn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;DbTxn*&gt; Legacy::BerkeleyDB::vTxn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Contains all current open (uncommitted) transactions for the database in the order they were begun </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/Nexus/NexusGit/LLL-TAO/src/Legacy/wallet/<a class="el" href="db_8h_source.html">db.h</a></li>
<li>E:/Nexus/NexusGit/LLL-TAO/src/Legacy/<a class="el" href="db_8cpp.html">db.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_legacy.html">Legacy</a></li><li class="navelem"><a class="el" href="class_legacy_1_1_berkeley_d_b.html">BerkeleyDB</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
