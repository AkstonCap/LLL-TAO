<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nexus: Legacy::KeyPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Neuxs_github.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nexus
   </div>
   <div id="projectbrief">The TAO Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_legacy_1_1_key_pool.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_legacy_1_1_key_pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Legacy::KeyPool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="keypool_8h_source.html">keypool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aedf48796ac8228aac8cd0b0d4274cc30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#aedf48796ac8228aac8cd0b0d4274cc30">KeyPool</a> (<a class="el" href="class_legacy_1_1_wallet.html">Wallet</a> &amp;walletIn)</td></tr>
<tr class="separator:aedf48796ac8228aac8cd0b0d4274cc30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b97b7444e2e1b1c110571e820046e1f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a3b97b7444e2e1b1c110571e820046e1f">NewKeyPool</a> ()</td></tr>
<tr class="separator:a3b97b7444e2e1b1c110571e820046e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ac0d3b2c3be9ea4a18ba2ef41035c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a98ac0d3b2c3be9ea4a18ba2ef41035c6">TopUpKeyPool</a> ()</td></tr>
<tr class="separator:a98ac0d3b2c3be9ea4a18ba2ef41035c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109a0c424f7a51c3ab4f147311ec1575"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a109a0c424f7a51c3ab4f147311ec1575">ClearKeyPool</a> ()</td></tr>
<tr class="separator:a109a0c424f7a51c3ab4f147311ec1575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b74ace17b896f198c0e04786d6f45b7"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a2b74ace17b896f198c0e04786d6f45b7">AddKey</a> (const <a class="el" href="class_legacy_1_1_key_pool_entry.html">KeyPoolEntry</a> &amp;keypoolEntry)</td></tr>
<tr class="separator:a2b74ace17b896f198c0e04786d6f45b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71323d883ec137dbac698b46dc425b55"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a71323d883ec137dbac698b46dc425b55">GetKeyPoolSize</a> () const</td></tr>
<tr class="separator:a71323d883ec137dbac698b46dc425b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7d0cfb3271d437edc4989bd6815cc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a2a7d0cfb3271d437edc4989bd6815cc1">GetKeyFromPool</a> (std::vector&lt; uint8_t &gt; &amp;key, const bool fUseDefaultWhenEmpty=true)</td></tr>
<tr class="separator:a2a7d0cfb3271d437edc4989bd6815cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac929423f443dee6beb6ab88c9cef08fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#ac929423f443dee6beb6ab88c9cef08fe">ReserveKeyFromPool</a> (uint64_t &amp;nPoolIndex, <a class="el" href="class_legacy_1_1_key_pool_entry.html">KeyPoolEntry</a> &amp;keypoolEntry)</td></tr>
<tr class="separator:ac929423f443dee6beb6ab88c9cef08fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d14c6a417cffaa88c9116f45f88af0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a3d14c6a417cffaa88c9116f45f88af0b">KeepKey</a> (const uint64_t nPoolIndex)</td></tr>
<tr class="separator:a3d14c6a417cffaa88c9116f45f88af0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14631f96e3cc3da1897782354cf4039"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#af14631f96e3cc3da1897782354cf4039">ReturnKey</a> (const uint64_t nPoolIndex)</td></tr>
<tr class="separator:af14631f96e3cc3da1897782354cf4039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a61dbc775aca4d89af4e295527b0349"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a4a61dbc775aca4d89af4e295527b0349">GetOldestKeyPoolTime</a> ()</td></tr>
<tr class="separator:a4a61dbc775aca4d89af4e295527b0349"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5dbb2c892fc3bafbcb82c90a1ffef8c4"><td class="memItemLeft" align="right" valign="top">static const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a5dbb2c892fc3bafbcb82c90a1ffef8c4">DEFAULT_KEY_POOL_SIZE</a> = 100</td></tr>
<tr class="separator:a5dbb2c892fc3bafbcb82c90a1ffef8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48116e308375ea894205ae641b38a3de"><td class="memItemLeft" align="right" valign="top">static const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a48116e308375ea894205ae641b38a3de">MINIMUM_KEY_POOL_SIZE</a> = 0</td></tr>
<tr class="separator:a48116e308375ea894205ae641b38a3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a5003a87231647e365602815a154a9980"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legacy_1_1_key_pool.html#a5003a87231647e365602815a154a9980">WalletDB</a></td></tr>
<tr class="separator:a5003a87231647e365602815a154a9980"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation for managing a key pool, backed by the wallet database of the wallet containing the pool.</p>
<p>A <a class="el" href="class_legacy_1_1_key_pool.html">KeyPool</a> instance contains the pool indexes of the <a class="el" href="class_legacy_1_1_key_pool_entry.html">KeyPoolEntry</a> values (public keys) stored in the wallet database, and supports adding/retrieving them as needed.</p>
<p>Keys may also be reserved for potential use, then kept (removed from pool) if actually used, or returned (unreserved) if not used.</p>
<p>The containing wallet manages and stores the private keys associated with these pool entries. They are not part of key pool itself.</p>
<p>Key pool usage requires the containing wallet be file backed, because the wallet database is used to store the actual key pool entries. If the containing wallet is not file backed, using the key pool collapses into an empty pool of limited use. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aedf48796ac8228aac8cd0b0d4274cc30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf48796ac8228aac8cd0b0d4274cc30">&#9670;&nbsp;</a></span>KeyPool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Legacy::KeyPool::KeyPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_legacy_1_1_wallet.html">Wallet</a> &amp;&#160;</td>
          <td class="paramname"><em>walletIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Initializes a key pool associated with a given wallet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">walletIn</td><td>The wallet containing this key pool </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2b74ace17b896f198c0e04786d6f45b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b74ace17b896f198c0e04786d6f45b7">&#9670;&nbsp;</a></span>AddKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t Legacy::KeyPool::AddKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_legacy_1_1_key_pool_entry.html">KeyPoolEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoolEntry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AddKey</p>
<p>Manually adds a key pool entry. This only adds the entry to the pool. If used, a separate call to <a class="el" href="class_legacy_1_1_wallet.html#a71807f218a2873c33cb6abfd956665f3">Wallet::GenerateNewKey</a> is required to create the key and record the private key in the wallet database. Otherwise the key pool entry added here is useless.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keypoolEntry</td><td>The key pool entry to add</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pool index of the added entry (1 or more), or 0 if not added </dd></dl>

</div>
</div>
<a id="a109a0c424f7a51c3ab4f147311ec1575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a109a0c424f7a51c3ab4f147311ec1575">&#9670;&nbsp;</a></span>ClearKeyPool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Legacy::KeyPool::ClearKeyPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ClearKeyPool</p>
<p>Empties the current key pool. </p>

</div>
</div>
<a id="a2a7d0cfb3271d437edc4989bd6815cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7d0cfb3271d437edc4989bd6815cc1">&#9670;&nbsp;</a></span>GetKeyFromPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::KeyPool::GetKeyFromPool </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>fUseDefaultWhenEmpty</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GetKeyFromPool</p>
<p>Extracts a key from the key pool. This both reserves and keeps the key, removing it from the pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">key</td><td>The value (public key) of the key pool entry extracted</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fUseDefaultWhenEmpty</td><td>true = Use the wallet default key if the pool is empty false = Generate a new key if the pool is empty</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the public key value was successfully extracted </dd></dl>

</div>
</div>
<a id="a71323d883ec137dbac698b46dc425b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71323d883ec137dbac698b46dc425b55">&#9670;&nbsp;</a></span>GetKeyPoolSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Legacy::KeyPool::GetKeyPoolSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>GetKeyPoolSize</p>
<p>Retrieves the current number of keys in the pool.</p>
<dl class="section return"><dt>Returns</dt><dd>key pool size </dd></dl>

</div>
</div>
<a id="a4a61dbc775aca4d89af4e295527b0349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a61dbc775aca4d89af4e295527b0349">&#9670;&nbsp;</a></span>GetOldestKeyPoolTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t Legacy::KeyPool::GetOldestKeyPoolTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GetOldestKeyPoolTime</p>
<p>Retrieves the creation time for the pool's oldest entry.</p>
<dl class="section return"><dt>Returns</dt><dd>timestamp of oldest key pool entry in the pool </dd></dl>

</div>
</div>
<a id="a3d14c6a417cffaa88c9116f45f88af0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d14c6a417cffaa88c9116f45f88af0b">&#9670;&nbsp;</a></span>KeepKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Legacy::KeyPool::KeepKey </td>
          <td>(</td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>nPoolIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>KeepKey</p>
<p>Marks a reserved key as used, removing it from the key pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nPoolIndex</td><td>The pool index of the reserved key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b97b7444e2e1b1c110571e820046e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b97b7444e2e1b1c110571e820046e1f">&#9670;&nbsp;</a></span>NewKeyPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::KeyPool::NewKeyPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NewKeyPool</p>
<p>Clears any existing keys in the pool and the wallet database and generates a completely new key set.</p>
<p>New key pool will have <a class="el" href="class_legacy_1_1_key_pool.html#a5dbb2c892fc3bafbcb82c90a1ffef8c4">KeyPool::DEFAULT_KEY_POOL_SIZE</a> entries unless the value is overridden by startup arguments.</p>
<dl class="section return"><dt>Returns</dt><dd>false if wallet locked and unable to add keys, true otherwise </dd></dl>

</div>
</div>
<a id="ac929423f443dee6beb6ab88c9cef08fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac929423f443dee6beb6ab88c9cef08fe">&#9670;&nbsp;</a></span>ReserveKeyFromPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Legacy::KeyPool::ReserveKeyFromPool </td>
          <td>(</td>
          <td class="paramtype">uint64_t &amp;&#160;</td>
          <td class="paramname"><em>nPoolIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_legacy_1_1_key_pool_entry.html">KeyPoolEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoolEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ReserveKeyFromPool</p>
<p>Reserves a key pool entry out of this key pool. After reserving it, the key pool entry is unavailable for other use.</p>
<p>Reserved keys can be returned to the pool by calling <a class="el" href="class_legacy_1_1_key_pool.html#af14631f96e3cc3da1897782354cf4039">ReturnKey()</a> or removed entirely by calling <a class="el" href="class_legacy_1_1_key_pool.html#a3d14c6a417cffaa88c9116f45f88af0b">KeepKey()</a>. Shutting down and restarting has the same effect as <a class="el" href="class_legacy_1_1_key_pool.html#af14631f96e3cc3da1897782354cf4039">ReturnKey()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">nPoolIndex</td><td>The pool index of the reserved key</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">keypoolEntry</td><td>The reserved key pool entry</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_legacy_1_1_key_pool.html#a3d14c6a417cffaa88c9116f45f88af0b">KeepKey()</a> <a class="el" href="class_legacy_1_1_key_pool.html#af14631f96e3cc3da1897782354cf4039">ReturnKey()</a> </dd></dl>

</div>
</div>
<a id="af14631f96e3cc3da1897782354cf4039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14631f96e3cc3da1897782354cf4039">&#9670;&nbsp;</a></span>ReturnKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Legacy::KeyPool::ReturnKey </td>
          <td>(</td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>nPoolIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ReturnKey</p>
<p>Returns a reserved key to the key pool. After call, it is no longer reserved and available again in the pool for other use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nPoolIndex</td><td>The pool index of the reserved key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a98ac0d3b2c3be9ea4a18ba2ef41035c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ac0d3b2c3be9ea4a18ba2ef41035c6">&#9670;&nbsp;</a></span>TopUpKeyPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Legacy::KeyPool::TopUpKeyPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TopUpKeyPool</p>
<p>Adds keys to key pool to top up the number of entries. Does nothing if key pool already full.</p>
<p>Fills pool to <a class="el" href="class_legacy_1_1_key_pool.html#a5dbb2c892fc3bafbcb82c90a1ffef8c4">KeyPool::DEFAULT_KEY_POOL_SIZE</a> entries unless the value is overridden by startup arguments.</p>
<dl class="section return"><dt>Returns</dt><dd>false if wallet locked and unable to add keys, true otherwise </dd></dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a5003a87231647e365602815a154a9980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5003a87231647e365602815a154a9980">&#9670;&nbsp;</a></span>WalletDB</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_legacy_1_1_wallet_d_b.html">WalletDB</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5dbb2c892fc3bafbcb82c90a1ffef8c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbb2c892fc3bafbcb82c90a1ffef8c4">&#9670;&nbsp;</a></span>DEFAULT_KEY_POOL_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t Legacy::KeyPool::DEFAULT_KEY_POOL_SIZE = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Defines the default number of keys contained by a key pool </p>

</div>
</div>
<a id="a48116e308375ea894205ae641b38a3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48116e308375ea894205ae641b38a3de">&#9670;&nbsp;</a></span>MINIMUM_KEY_POOL_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t Legacy::KeyPool::MINIMUM_KEY_POOL_SIZE = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Defines the minimum key pool size </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/Nexus/NexusGit/LLL-TAO/src/Legacy/wallet/<a class="el" href="keypool_8h_source.html">keypool.h</a></li>
<li>E:/Nexus/NexusGit/LLL-TAO/src/Legacy/<a class="el" href="keypool_8cpp.html">keypool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_legacy.html">Legacy</a></li><li class="navelem"><a class="el" href="class_legacy_1_1_key_pool.html">KeyPool</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
